* 2006
clear
cd "\" 

use "ZA4700.dta", clear

decode V3a, gen (country)

duplicates report V2

codebook country
replace country = "Australia" if country=="AU-Australia"
replace country = "Canada" if country=="CA-Canada"
replace country = "Switzerland" if country=="CH-Switzerland"
replace country = "Chile" if country=="CL-Chile"
replace country = "Czech Republic" if country=="CZ-Czech Republic"
replace country = "Denmark" if country=="DK-Denmark"
replace country = "Dominican Republic" if country=="DO-Dominican Republic"
replace country = "Spain" if country=="ES-Spain"
replace country = "Finland" if country=="FI-Finland"
replace country = "France" if country=="FR-France"
replace country = "Croatia" if country=="HR-Croatia"
replace country = "Hungary" if country=="HU-Hungary"
replace country = "Ireland" if country=="IE-Ireland"
replace country = "Japan" if country=="JP-Japan"
replace country = "South Korea" if country=="KR-South Korea"
replace country = "Latvia" if country=="LV-Latvia"
replace country = "Netherlands" if country=="NL-Netherlands"
replace country = "Norway" if country=="NO-Norway"
replace country = "New Zealand" if country=="NZ-New Zealand"
replace country = "Philippines" if country=="PH-Philippines"
replace country = "Poland" if country=="PL-Poland"
replace country = "Portugal" if country=="PT-Portugal"
replace country = "Russia" if country=="RU-Russia"
replace country = "Sweden" if country=="SE-Sweden"
replace country = "Slovenia" if country=="SI-Slovenia"
replace country = "Taiwan" if country=="TW-Taiwan"
replace country = "United States" if country=="US-United States"
replace country = "Uruguay" if country=="UY-Uruguay"
replace country = "Venezuela" if country=="VE-Venezuela"
replace country = "South Africa" if country=="ZA-South Africa"
replace country = "United Kingdom" if country=="GB-Great Britain"
replace country = "Germany" if country=="DE-Germany"
replace country = "Israel" if country=="IL-Israel"


gen year = 2006
list V2


rename V28 elderly
label variable elderly "Old Age Care"

rename V30 unemployed
label variable unemployed "Unemployed"

rename V31 ReduceIncDiff
label variable ReduceIncDiff "Reduce Income Differences"

rename V25 jobs
label variable jobs "Jobs"


label define supportgov 1 "Support" 0 "Oppose"

foreach x in elderly unemployed ReduceIncDiff jobs {
recode `x' 3/4=0 1/2=1
label values `x' supportgov
}



recode sex 1=0  2=1, into(Female)

gen agesq = age * age

recode degree 0/1=1 2/3=2 4/5=3, into(education)
label define ed 1 "Primary or lower" 2 "Secondary" 3 "University or higher"
label values education ed

recode wrkst 1=4 2=1 3=1 4=2 5=3 6=2 7=2 8=2 9=2 10=2 97/99=., into(workstatus)

label define workstat 1 "Part-time" 2 "Not active" 3 "Active unemployed" 4 "Full time"
label values workstatus workstat

gen id = _n

keep  age agesq Female elderly unemployed ReduceIncDiff jobs year country ///
	education workstatus weight


save "cleanissp2006.dta", replace
